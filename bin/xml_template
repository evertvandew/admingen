#!/usr/bin/env python3

import sys
import io
from admingen.xml_template import processor


from argparse import ArgumentParser

parser = ArgumentParser()
parser.add_argument('--output', '-o', default=sys.stdout)
parser.add_argument('--input', '-i', default=sys.stdin)
parser.add_argument('--preprocess', '-p', action="store_true")
parser.add_argument('--print_datamodel', action="store_true")

args = parser.parse_args()

result = processor(istream=args.input, ostream=args.output, preprocess_only=args.preprocess)
if result:
    sys.exit(result)
